<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="">
        <meta name="author" content="">
        <!--        <link rel="shortcut icon" href="../../docs-assets/ico/favicon.png">-->

        <title>Comograd :: Protein Tertiary Matching</title>

        <!-- Bootstrap core CSS -->
        <link href="css/bootstrap.css" rel="stylesheet">
        <link href="css/bootstrap-theme.css" rel="stylesheet">
        <link href="css/style.css" rel="stylesheet">
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
        <script src="js/bootstrap.min.js"></script>
        <!-- Just for debugging purposes. Don't actually copy this line! -->
        <!--[if lt IE 9]><script src="../../docs-assets/js/ie8-responsive-file-warning.js"></script><![endif]-->

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
          <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
    </head>
    <body>
        <div class="navbar navbar-inverse navbar-fixed-top navbar-fixed-top" role="navigation">
            <div class="container">
                <a href="#" class="brand">COMOGRAD</a>
                <div class="nav-collapse collapse">
                    <ul class="nav nav-pills">
                        <li class="active"><a href="#">Home</a></li>
                        <li><a href="publication.html">Publication</a></li>
                        <li><a href="Upcoming.html">Upcoming</a></li>
                        <li class="dropdown">
                            <a href="#" data-toggle="dropdown" class="dropdown-toggle">Peoples<b class="caret"></b></a>
                            <ul class="dropdown-menu" id="menu1">
                                <li><a href="http://www.linkedin.com/in/rezaulkarimbuet">Rezaul Karim</a></li>
                                <li><a href="http://www.mominalaziz.ninja">Md. Momin Al Aziz</a></li>
                                <li><a href="https://sites.google.com/site/sshatabda/">Swakkhar Shatabda</a></li>
                                <li class="divider"></li>
                                <li><a href="http://www.buet.ac.bd/cse/faculty/facdetail.php?id=msrahman">Dr. M. Sohel Rahman</a></li>
                                <li><a href="http://www.buet.ac.bd/cse/faculty/facdetail.php?id=kashem">Dr. Md. Abul Kashem Mia</a></li>
                            </ul>
                        </li>

                    </ul>
                    <!--<form class="navbar-form pull-right">
                        <input type="text" placeholder="Email" class="span2">
                        <input type="password" placeholder="Password" class="span2">
                        <button class="btn" type="submit">Sign in</button>
                    </form>-->
                </div><!--/.nav-collapse -->
            </div>
        </div>
        <div class="hero-unit">
            <div class="offset2">
                <div id="info">
                    <p>This web service is for comparing protein tertiary structure i.e 3D structure. 
                        You can query here to compare query structure with all proteins in entire database and get 
                        structural neighbours. Our database contains 152,486 structures from <a target="_blank" href="http://scop.berkeley.edu/about/ver=2.03">here</a>.
                        Results also have a link to scop so that you can see more details about the structure there. We can process your query in instant where you had to wait few hours for query results in other web services who do similar tasks. You dont have to submit your email address to get your query results few hours later, you can have it here at instant!.To know about how to submit query see "user guide" section. To know how this works, go to "publication" section. 
                    </p>
                    <h4><u>User guide:</u></h4>
                    <p>You can submit query two ways, submit pdb format structure(<b>Coming soon...</b>) file or submit scopId for the structures that are already in scop 2.03.   </p>

                    <p>
                    <h4>Query with scopId:</h4> Please submit 7 char scopId of the query protein to search for structural neighbours. 7 Char scopId onsists of 'd' as  first character, the 4 char pdb id, then rest 2 char is chain id. As an example "d1lp1b_" is a 7 character scopId.
                    </p>
                </div>
                <h3>Enter ScopID</h3>

                <p id="examples">Press enter after the scopID(ie. d1lp1b_)</p>
                <div class="input-group">
                    <input class="input-xlarge form-control" placeholder="scopid here..." id ="text" type="text"  name="search_text">
                    <span class="input-group-btn">
                        <button id="send" class="btn btn-success" type="button">Search</button>
                    </span>
                </div>
                <h3>Upload pdb file(<i>coming soon...</i>)</h3>
                <input class="form-control disabled" type="file"/>
                <button class="btn btn-danger disabled" type="button">Upload</button>
                <br><br><br>
                <div id="allLogs">
                    <div id="chatLog" class="chatlog">

                    </div>
                </div>
            </div>
        </div>
        <!-- /container -->

        <div id="output"></div>

        <script type="text/javascript" src="websocket.js"></script>
        <!--        <script type="text/javascript" src="whiteboard.js"></script>-->
        <!--        <script type="text/javascript" src="js/bootstrap.min.js"></script>-->
        <script>
            var flg = 2; //default recieved
            function connect() {
                var socket;
                console.log(document.location.pathname);
                var host = "ws://" + document.location.host + document.location.pathname + "whiteboardendpoint";
                try {
                    var socket = new WebSocket(host);
                    message('<p class="event">Socket Status: ' + socket.readyState);
                    socket.onopen = function() {
                        message('<p class="event">Socket Status: ' + socket.readyState + ' (open)');
                    }

                    socket.onmessage = function(msg) {
                        if (msg.data === "result")
                            flg = 0;
                        else if (msg.data === "log")
                            flg = 1;
                        else {
                            if (flg === 0)
                                message('<p class="result"> ' + msg.data);
                            else if (flg === 1)
                                message('<p class="log">log:' + msg.data);
                            else
                                message('<p class="message">Received: ' + msg.data);
                        }
                    }

                    socket.onclose = function() {
                        message('<p class="event">Socket Status: ' + socket.readyState + ' (Closed)');
                    }

                } catch (exception) {
                    message('<p>Error' + exception);
                }

                function send() {
                    var text = $('#text').val();
                    if (text == "") {
                        message('<p class="warning">Please enter a message');
                        return;
                    }
                    try {
                        socket.send(text);
                        message('<p class="event">Sent: ' + text)

                    } catch (exception) {
                        message('<p class="warning">');
                    }
                    $('#text').val("");
                }

                function message(msg) {
                    $('#chatLog').append(msg + '</p>');
                }
                $('#send').click(function() {
                    $('#chatLog p').remove(1000);
                    //$('#').remove();
                    //$('#allLogs').append("<div id='chatLog' class='chatlog'></div>");
                    $('#chatLog').html('<p class="event">Socket Status: 0</p><p class="event">Socket Status: 1 (open)</p>');
                    send();


                });
                /*$('#text').bind('keypress', function(e) {
                    if (e.keyCode == 13) {
                        $('#chatLog p').remove(1000);
                        //$('#').remove();
                        //$('#allLogs').append("<div id='chatLog' class='chatlog'></div>");
                        $('#chatLog').html('<p class="event">Socket Status: 0</p><p class="event">Socket Status: 1 (open)</p>');
                    }
                });*/
                $('#text').keypress(function(event) {
                    if (event.keyCode == 13) {
                        $('#chatLog p').remove(1000);
                        //$('#').remove();
                        //$('#allLogs').append("<div id='chatLog' class='chatlog'></div>");
                        $('#chatLog').html('<p class="event">Socket Status: 0</p><p class="event">Socket Status: 1 (open)</p>');
                        send();
                    }
                 });
                $('#disconnect').click(function() {
                    socket.close();
                });
            }//End connect
            $(document).ready(function() {

                if (!("WebSocket" in window)) {
                    $('#chatLog, input, button, #examples').fadeOut("fast");
                    $('<p>Oh no, you need a browser that supports WebSockets. How about <a href="http://www.google.com/chrome">Google Chrome</a>?</p>').appendTo('#container');
                } else {
                    //The user has WebSockets

                    connect();
                }//End else

            });
        </script>
    </body>
</html>
